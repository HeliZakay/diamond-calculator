import{r as f,j as t,f as x,B as g,M as y,c as N}from"./index-CYlkO5QJ.js";import{a as G,D as H,b as J,P as Q}from"./index-CYlkO5QJ.js";const k="_backdrop_1a9d6_1",D="_modal_1a9d6_12",C="_title_1a9d6_33",_={backdrop:k,modal:D,title:C};function v({open:l,onClose:a,title:s,titleId:c,children:u}){const m=f.useRef(null),e=f.useRef(null);return f.useEffect(()=>{if(!l)return;e.current=document.activeElement;const n=m.current;if(!n)return;const h=()=>Array.from(n.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])')).filter(r=>!r.hasAttribute("disabled")&&!r.getAttribute("aria-hidden"));(h()[0]??n).focus({preventScroll:!0});const j=r=>{if(r.key==="Escape"){r.stopPropagation(),a();return}if(r.key==="Tab"){const o=h();if(o.length===0){r.preventDefault(),n.focus();return}const p=document.activeElement,b=Math.max(0,o.indexOf(p)),w=r.shiftKey?(b-1+o.length)%o.length:(b+1)%o.length;if(!o.includes(p)){r.preventDefault(),o[0].focus();return}r.preventDefault(),o[w].focus()}};return document.addEventListener("keydown",j,!0),()=>{document.removeEventListener("keydown",j,!0),e.current?.focus({preventScroll:!0})}},[l,a]),l?t.jsx("div",{className:_.backdrop,role:"dialog","aria-modal":"true",onClick:a,"aria-labelledby":s?c:void 0,children:t.jsxs("div",{className:_.modal,ref:m,tabIndex:-1,onClick:n=>n.stopPropagation(),children:[s?typeof s=="string"?t.jsx("h2",{id:c,className:_.title,children:s}):s:null,u]})}):null}const E="_row_moabd_48",F="_rowTotal_moabd_49",P="_hr_moabd_60",S="_content_moabd_67",i={row:E,rowTotal:F,hr:P,content:S};function L({open:l,onClose:a,parts:s,final:c}){const{basePerCarat:u,base:m,cutFactor:e,colorFactor:n,clarityFactor:h}=s;return t.jsxs(v,{open:l,onClose:a,title:"Price breakdown",titleId:"price-breakdown-title",children:[t.jsxs("div",{className:i.content,children:[t.jsxs("div",{className:i.row,children:[t.jsx("span",{children:"Base per carat"}),t.jsx("strong",{children:x(u)})]}),t.jsxs("div",{className:i.row,children:[t.jsx("span",{children:"Base (carat × $/ct)"}),t.jsx("strong",{children:x(m)})]}),t.jsxs("div",{className:i.row,children:[t.jsx("span",{children:"Cut factor"}),t.jsxs("strong",{children:["× ",e.toFixed(2)]})]}),t.jsxs("div",{className:i.row,children:[t.jsx("span",{children:"Color factor"}),t.jsxs("strong",{children:["× ",n.toFixed(2)]})]}),t.jsxs("div",{className:i.row,children:[t.jsx("span",{children:"Clarity factor"}),t.jsxs("strong",{children:["× ",h.toFixed(2)]})]}),t.jsx("hr",{className:i.hr}),t.jsxs("div",{className:i.rowTotal,children:[t.jsx("span",{children:"Final"}),t.jsx("strong",{children:x(c)})]})]}),t.jsx(g,{variant:"ghost",onClick:a,children:"Close"})]})}const M="_subtitle_htvc4_40",A="_grid_htvc4_46",B="_card_htvc4_53",R="_image_htvc4_60",T="_text_htvc4_69",$="_price_htvc4_75",d={subtitle:M,grid:A,card:B,image:R,text:T,price:$};function q({open:l,onClose:a,diamonds:s}){const c=s.length>0,u=y.slice(0,4),m=c?s:u;return t.jsxs(v,{open:l,onClose:a,title:c?"Similar diamonds":"No similar diamonds found",titleId:"similar-diamonds-title",children:[!c&&t.jsx("p",{className:d.subtitle,children:"Showing some recommended diamonds instead:"}),t.jsx("div",{className:d.grid,children:m.map(e=>t.jsxs("div",{className:d.card,children:[t.jsx("img",{src:e.img,alt:`${e.carat} ct ${e.cut} diamond, color ${e.color}, clarity ${e.clarity}`,className:d.image}),t.jsxs("p",{className:d.text,children:[e.carat," ct • ",e.cut]}),t.jsxs("p",{className:d.text,children:["Color ",e.color," • Clarity ",e.clarity]}),t.jsx("strong",{className:d.price,children:x(N(e).final)})]},e.id))}),t.jsx(g,{variant:"ghost",onClick:a,children:"Close"})]})}export{G as DiamondCard,H as DiamondForm,J as DiamondViewer,Q as PriceBox,L as PriceBreakdownModal,q as SimilarDiamondsModal};
